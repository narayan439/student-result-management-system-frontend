<div class="request-recheck-container">
  
  <!-- Header -->
  <div class="recheck-header">
    <h2>Request Recheck</h2>
    <p>Submit a request for re-evaluation of your marks. Please provide clear reasoning for your request.</p>
  </div>

  <!-- Recheck Card -->
  <div class="recheck-card">
    
    <!-- Recheck Header Section -->
    <div class="recheck-header-section">
      <h3>
        <mat-icon class="header-icon">redo</mat-icon> Submit Recheck Request
      </h3>
      <p>Fill out the form below to request re-evaluation of your marks</p>
    </div>

    <!-- Recheck Content with Scrollbar -->
    <div class="recheck-content" style="overflow-y: auto; max-height: 600px;">
      
      <!-- Form -->
      <form (ngSubmit)="submitRecheck()" #reForm="ngForm" class="form-container">
        
        <!-- Subject Selection -->
        <div class="form-group">
          <label for="subject">Select Subject</label>
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Choose a subject</mat-label>
            <mat-select 
              id="subject"
              [(ngModel)]="recheck.subject"
              name="subject"
              required
            >
              <mat-option *ngFor="let s of subjects" [value]="s">
                <div class="subject-option">
                  <mat-icon>book</mat-icon>
                  {{ s }}
                </div>
              </mat-option>
            </mat-select>
            <mat-icon matPrefix>subject</mat-icon>
            <mat-error *ngIf="reForm.controls['subject']?.invalid && reForm.controls['subject']?.touched">
              Please select a subject
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Reason -->
        <div class="form-group">
          <label for="reason">Reason for Recheck</label>
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Explain</mat-label>
            <textarea 
              matInput 
              id="reason"
              rows="4"
              [(ngModel)]="recheck.reason"
              name="reason"
              required
              placeholder="Please explain why you believe a recheck is necessary..."
            ></textarea>
            <mat-icon matPrefix>description</mat-icon>
            <mat-hint>Be specific about your concerns</mat-hint>
            <mat-error *ngIf="reForm.controls['reason']?.invalid && reForm.controls['reason']?.touched">
              Please provide a reason for recheck
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Submit Button -->
        <button 
          mat-raised-button 
          color="primary" 
          type="submit" 
          class="submit-btn"
          [disabled]="reForm.invalid"
        >
          <mat-icon>send</mat-icon> Submit Recheck Request
        </button>

      </form>

      <!-- Important Notes -->
      <div class="notes-section">
        <h4>
          <mat-icon>info</mat-icon> Important Information
        </h4>
        <ul>
          <li><strong>Processing Time:</strong> Recheck requests typically take 7-10 working days to process</li>
          <li><strong>Fee:</strong> A fee of ₹500 per subject is applicable for re-evaluation</li>
          <li><strong>Result:</strong> Marks may increase, decrease, or remain the same after recheck</li>
          <li><strong>Last Date:</strong> Requests must be submitted within 15 days of result declaration</li>
          <li><strong>Contact:</strong> For queries, email: recheck@dps.edu.in</li>
        </ul>
      </div>

      <!-- Recent Requests Status -->
      <div class="status-section">
        <h4>
          <mat-icon>history</mat-icon> Recent Request Status
        </h4>
        <div class="status-item">
          <span class="status-label">
            <mat-icon class="status-icon">calculate</mat-icon>
            Mathematics
          </span>
          <span class="status-value pending">
            <mat-icon>pending</mat-icon> Pending
          </span>
        </div>
        <div class="status-item">
          <span class="status-label">
            <mat-icon class="status-icon">science</mat-icon>
            Science
          </span>
          <span class="status-value completed">
            <mat-icon>check_circle</mat-icon> Completed
          </span>
        </div>
        <div class="status-item">
          <span class="status-label">
            <mat-icon class="status-icon">menu_book</mat-icon>
            English
          </span>
          <span class="status-value completed">
            <mat-icon>check_circle</mat-icon> Completed
          </span>
        </div>
      </div>

    </div>
  </div>

  <!-- Footer -->
  <div class="recheck-footer">
    <p>© 2023 Delhi Public School. All rights reserved.</p>
    <p>Recheck requests are processed by the Examination Department</p>
  </div>

</div>