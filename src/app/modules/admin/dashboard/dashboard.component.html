<div class="dashboard-container">
  
  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <h1>ğŸ“Š Admin Dashboard</h1>
    <p>Complete overview of your school's management system</p>
  </div>

  <!-- Debug Info
  <div style="background: #f0f4ff; padding: 16px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #667eea;">
    <small style="color: #667eea;">ğŸ“Š Students: <strong>{{ totalStudents }}</strong> | ğŸ‘¨â€ğŸ« Teachers: <strong>{{ totalTeachers }}</strong> | ğŸ“š Subjects: <strong>{{ totalSubjects }}</strong> | ğŸ« Classes: <strong>{{ totalClasses }}</strong></small>
  </div> -->

  <!-- Key Statistics Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <mat-icon>people</mat-icon>
      </div>
      <div class="stat-info">
        <h3>{{ totalStudents }}</h3>
        <p>Total Students</p>
        <span class="stat-sub">{{ activeStudents }} Active</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
        <mat-icon>school</mat-icon>
      </div>
      <div class="stat-info">
        <h3>{{ totalTeachers }}</h3>
        <p>Total Teachers</p>
        <span class="stat-sub">{{ activeTeachers }} Active</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
        <mat-icon>subject</mat-icon>
      </div>
      <div class="stat-info">
        <h3>{{ totalSubjects }}</h3>
        <p>Total Subjects</p>
        <span class="stat-sub">Being taught</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
        <mat-icon>class</mat-icon>
      </div>
      <div class="stat-info">
        <h3>{{ totalClasses }}</h3>
        <p>Total Classes</p>
        <span class="stat-sub">All grades</span>
      </div>
    </div>
  </div>

  <!-- Quick Action Cards -->
  <div class="section-title">
    <h2>ğŸ“‹ Quick Access</h2>
  </div>

  <div class="action-cards">
    <!-- Students Card -->
    <mat-card class="action-card" routerLink="/admin/manage-students">
      <div class="card-icon-wrapper">
        <mat-icon class="card-icon">people</mat-icon>
      </div>
      <h3>Students Management</h3>
      <p>{{ totalStudents }} students enrolled</p>
      <div class="card-action">
        <span>Manage Students</span>
        <mat-icon>arrow_forward</mat-icon>
      </div>
    </mat-card>

    <!-- Teachers Card -->
    <mat-card class="action-card" routerLink="/admin/manage-teachers">
      <div class="card-icon-wrapper">
        <mat-icon class="card-icon">school</mat-icon>
      </div>
      <h3>Teachers Management</h3>
      <p>{{ totalTeachers }} teachers assigned</p>
      <div class="card-action">
        <span>Manage Teachers</span>
        <mat-icon>arrow_forward</mat-icon>
      </div>
    </mat-card>

    <!-- Classes Card -->
    <mat-card class="action-card" routerLink="/admin/manage-classes">
      <div class="card-icon-wrapper">
        <mat-icon class="card-icon">class</mat-icon>
      </div>
      <h3>Classes Management</h3>
      <p>{{ totalClasses }} classes available</p>
      <div class="card-action">
        <span>Manage Classes</span>
        <mat-icon>arrow_forward</mat-icon>
      </div>
    </mat-card>

    <!-- Subjects Card -->
    <mat-card class="action-card" routerLink="/admin/manage-subjects">
      <div class="card-icon-wrapper">
        <mat-icon class="card-icon">subject</mat-icon>
      </div>
      <h3>Subjects Management</h3>
      <p>{{ totalSubjects }} subjects offered</p>
      <div class="card-action">
        <span>Manage Subjects</span>
        <mat-icon>arrow_forward</mat-icon>
      </div>
    </mat-card>
  </div>

  <!-- Recent Activity Section -->
  <div class="section-title">
    <h2>ğŸ‘¥ Recent Activity</h2>
  </div>

  <div class="recent-grid">
    <!-- Recent Students -->
    <div class="recent-card">
      <h3>
        <mat-icon>person_add</mat-icon>
        Latest Students
      </h3>
      <div class="recent-list">
        <div *ngIf="recentStudents.length > 0" class="list-container">
          <div *ngFor="let student of recentStudents" class="list-item">
            <div class="item-avatar">{{ student.name.charAt(0) }}</div>
            <div class="item-details">
              <div class="item-name">{{ student.name }}</div>
              <div class="item-meta">Class: {{ student.className }} | Roll: {{ student.rollNo }}</div>
            </div>
          </div>
        </div>
        <div *ngIf="recentStudents.length === 0" class="empty-state">
          <mat-icon>person_outline</mat-icon>
          <p>No students yet</p>
        </div>
      </div>
    </div>

    <!-- Recent Teachers -->
    <div class="recent-card">
      <h3>
        <mat-icon>person_add_alt_1</mat-icon>
        Latest Teachers
      </h3>
      <div class="recent-list">
        <div *ngIf="recentTeachers.length > 0" class="list-container">
          <div *ngFor="let teacher of recentTeachers" class="list-item">
            <div class="item-avatar">{{ teacher.name.charAt(0) }}</div>
            <div class="item-details">
              <div class="item-name">{{ teacher.name }}</div>
              <div class="item-meta">Subjects: {{ teacher.subjects.join(', ') || 'N/A' }}</div>
            </div>
          </div>
        </div>
        <div *ngIf="recentTeachers.length === 0" class="empty-state">
          <mat-icon>person_outline</mat-icon>
          <p>No teachers yet</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Class Distribution Section -->
  <div class="section-title">
    <h2>ğŸ« Class Distribution (1 to 10)</h2>
  </div>

  <div class="class-distribution">
    <div class="distribution-grid">
      <div *ngFor="let classNum of getUniqueClassNumbers()" class="class-item">
        <div class="class-name">Class {{ classNum }}</div>
        <div class="class-count">{{ getStudentsInClass(classNum) }} students</div>
      </div>
    </div>
  </div>

  <!-- Subject Distribution Section -->
  <div class="section-title">
    <h2>ğŸ“š Subject Teaching Staff</h2>
  </div>

  <div class="subject-distribution">
    <div *ngIf="allSubjects.length > 0" class="subjects-grid">
      <div *ngFor="let subject of allSubjects" class="subject-item">
        <div class="subject-name">{{ subject.subjectName }}</div>
        <div class="subject-teachers">{{ getTeachersBySubject(subject.subjectName) }} teachers</div>
      </div>
    </div>
    <div *ngIf="allSubjects.length === 0" class="empty-state">
      <mat-icon>inbox</mat-icon>
      <p>No subjects configured</p>
    </div>
  </div>

  <!-- Summary Section -->
  <div class="summary-section">
    <h3>ğŸ“ˆ System Summary</h3>
    <div class="summary-grid">
      <div class="summary-item">
        <span>Student to Teacher Ratio</span>
        <strong>{{ totalTeachers > 0 ? (totalStudents / totalTeachers).toFixed(1) : '0' }}:1</strong>
      </div>
      <div class="summary-item">
        <span>Average Class Size</span>
        <strong>{{ totalClasses > 0 ? (totalStudents / totalClasses).toFixed(0) : '0' }} students</strong>
      </div>
      <div class="summary-item">
        <span>Teachers per Subject</span>
        <strong>{{ totalSubjects > 0 ? (totalTeachers / totalSubjects).toFixed(1) : '0' }}</strong>
      </div>
      <div class="summary-item">
        <span>Total Records</span>
        <strong>{{ totalStudents + totalTeachers + totalClasses }}</strong>
      </div>
    </div>
  </div>

</div>